CREATE TABLE FILES
(
  ID_FILE INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
  FK_ID_USER INT NOT NULL,
  FK_ID_TYPE INT NOT NULL,
  FK_ID_MEDIA INT NOT NULL,
  NAME VARCHAR(128) NOT NULL,
  HASH VARCHAR(64) NOT NULL,
  SIZE INT NOT NULL,
  CTRL_DATE DATETIME NOT NULL,
  CTRL_IP VARCHAR(128) NOT NULL,
  STATUS ENUM('A', 'T', 'D') NOT NULL DEFAULT 'A' COMMENT 'A - Active | T - Trash | D - Deleted',
  CTRL_DATE_DEL DATETIME,
  CTRL_IP_DEL VARCHAR(128),
  TAG VARCHAR(256),
  DESCRIPTION VARCHAR(30000),
  TRANSACTION VARCHAR(64),
  ID_GEONAMES INT,
  LATITUDE DECIMAL(8, 5),
  LONGITUDE DECIMAL(8, 5),
INDEX IX_FILES_01 (FK_ID_USER ASC, FK_ID_MEDIA ASC),
INDEX IX_FILES_02 (TRANSACTION ASC),
UNIQUE INDEX IX_FILES_03 (HASH ASC, FK_ID_USER ASC),
CONSTRAINT FOREIGN KEY FK_FILES_01(TRANSACTION) REFERENCES BLOCKCHAIN(TRANSACTION) ON DELETE RESTRICT
);